<head>
  <title>Mon profil - GestiCert</title>
</head>

<section id="entete">
  <div id="user" title="{{ editedUser.nameUser }} {{ editedUser.firstNameUser }}">
    <p *ngIf="editedUser.idUser">
      <img src="assets/icons/personne.svg">
      {{ editedUser.nameUser }} {{ editedUser.firstNameUser }}
    </p>
  </div>
  <div id="bouton">
    <div id="deconnexion" title="Déconnexion de l'application">
      <a role="button" (click)="deconnexion()">Déconnexion</a>
    </div>
    <div title="Retour à l'accueil">
      <a role="button" (click)="comeBack()">Retour</a>
    </div>
  </div>
</section>

<section id="formulaire">
  <h1 *ngIf="editedUser.idUser; else elseBlock1">Mon Profil</h1>
  <ng-template #elseBlock1><h1>Ajout d'un Utilisateur</h1></ng-template>
  <h2>* Champs obligatoires</h2>
  <form>
    <div>
      <div class="form-control">
        <label for="idRH">Identifiant RH * : </label>
        <input type="search" id="idRH" [(ngModel)]="editedUser.idRHUser" name="idRH" placeholder="Entrez l'identifiant RH"
               required title="Champ pour l'identifiant RH">
      </div>
      <br>
      <div class="form-control">
        <label for="mdp">Mot de passe * : </label>
        <input type="search" id="mdp" [(ngModel)]="editedUser.passwordUser" name="mdp"
               placeholder="Entrez le mot de passe" required title="Champ pour le mot de passe">
      </div>
      <br>
      <div class="form-control">
        <label for="userProfile">Profil * : </label>
        <select
          name="userProfile"
          id="userProfile"
          class="form-control"
          [(ngModel)]="editedUser.profile.idProfile" title="Champ pour le profil">
          <option *ngFor="let profile of profilesList | async"
                  [value]="profile.idProfile">{{ profile.typeProfile }}</option>
        </select>
      </div>
      <br>
    </div>
    <div class="form-control">
      <label for="nom">Nom * : </label>
      <input type="search" id="nom" [(ngModel)]="editedUser.nameUser" name="nom" placeholder="Entrez le nom" required title="Champ pour le nom">
    </div>
    <br>
    <div class="form-control">
      <label for="prenom">Prénom * : </label>
      <input type="search" id="prenom" [(ngModel)]="editedUser.firstNameUser" name="prenom" placeholder="Entrez le prénom"
             required title="Champ pour le prénom">
    </div>
    <br>
    <div class="form-control">
      <label for="userService">Service * : </label>
      <!--   <input type="number" id="service" [(ngModel)]="editedUser.department.idDepartment" name="service"
                placeholder="Entrez le prénom" required>-->
      <select
        name="userService"
        id="userService"
        class="form-control"
        [(ngModel)]="editedUser.department.idDepartment" title="Champ pour le service">
        <option *ngFor="let department of departmentsList | async"
                [value]="department.idDepartment">{{ department.nameDepartment }}</option>
      </select>
    </div>
    <br>
    <div class="form-control">
      <label for="fonction">Fonction * : </label>
      <input type="search" id="fonction" [(ngModel)]="editedUser.roleUser" name="fonction"
             placeholder="Entrez la fonction" required title="Champ pour la fonction">
    </div>
    <br>
    <div class="form-control">
      <label for="tel">Téléphone : </label>
      <input type="search" id="tel" [(ngModel)]="editedUser.phoneUser" name="tel" placeholder="Entrez le téléphone" title="Champ pour le téléphone">
    </div>
    <br>
    <div class="form-control">
      <label for="email">E-mail * : </label>
      <input type="search" id="email" [(ngModel)]="editedUser.eMailUser" name="email" placeholder="Entrez le mail" title="Champ pour le mail">
    </div>
    <br>
    <!--   <div class="form-control">
         <label for="userApplication">Application(s) : </label>
         <input type="text" id="userApplication" [(ngModel)]="editedUser.eMailUser" name="userApplication" placeholder="Entrez le mail">
       </div>
       <br>-->
 <!--   <div class="form-control">
      <table>
        <thead>
        <tr>
          <th>Application(s) :</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let application of applicationsList | async">
          <td *ngIf="editedUser.applications[0].idApplication === application.idApplication">{{ application.nameApplication }}</td>
        </tr>
        </tbody>
      </table>
      <label for="applic">Application(s) :</label>
      <input id="plus" type="image" src="assets\icons\plus.png" (click)="addField()">
      <select
        name="applic"
        id="applic"
        class="form-control">-->
        <!-- [(ngModel)]="editedUser.applications[0].idApplication" -->
 <!--       <option *ngFor="let application of applicationsList | async"
                [value]="application.idApplication">{{ application.nameApplication }}</option>
      </select>
    </div>-->
  </form>
  <br>
  <div id="modification" title="Sauvegarder les modifications sur mon profil">
    <a role="button" (click)="onSave()">Sauvegarder</a>
  </div>
</section>
