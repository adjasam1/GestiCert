<head>
  <title>Gestion application - GestiCert</title>
</head>

<section id="entete">
  <div id="user" title="Gestion de GestiCert">
    <p>
      <img src="assets/icons/gestion.svg">
      Administration de GestiCert
    </p>
  </div>
  <div id="bouton">
    <div id="deconnexion" title="Déconnexion de l'application">
      <a role="button" (click)="deconnexion()">Déconnexion</a>
    </div>
    <div title="Retour à l'accueil">
      <a role="button" (click)="comeBack()">Retour</a>
    </div>
  </div>
</section>

<section>
  <div id="menu1">
    <a role="button" [matMenuTriggerFor]="utilisateur" title="Gestion des utilisateurs">Utilisateur</a>
    <a role="button" routerLink="/gestion/app" title="Gestion des applications">Application</a>
    <a role="button" [matMenuTriggerFor]="certificat" title="Gestion des certificats">Certificat</a>
  </div>

  <div id="menu2">
    <mat-menu #utilisateur="matMenu">
      <a class="select" role="button" routerLink="/gestion/uti" title="Gestion des utilisateurs">Utilisateur</a>
      <a class="select" role="button" routerLink="/gestion/pro" title="Gestion des profils">Profil</a>
      <a class="select" role="button" routerLink="/gestion/sce" title="Gestion des services">Service</a>
    </mat-menu>
    <mat-menu #certificat="matMenu">
      <a class="select" role="button" routerLink="/gestion/cer" title="Gestion des certificats">Certificat</a>
      <a class="select" role="button" routerLink="/gestion/env" title="Gestion des environnements">Environnement</a>
      <a class="select" role="button" routerLink="/gestion/pla" title="Gestion des plateformes">Plateforme</a>
      <a class="select" role="button" routerLink="/gestion/rac" title="Gestion des racines">Racine</a>
      <a class="select" role="button" routerLink="/gestion/sur" title="Gestion des serveurs">Serveur</a>
    </mat-menu>
  </div>
</section>

<section class="gest" title="Gestion des utilisateurs">
  <input type="hidden" [routerLink]="'/gestion/uti'" routerLinkActive #guti="routerLinkActive"/>
  <div *ngIf="guti.isActive">
    <app-management-user></app-management-user>
  </div>
</section>

<section class="gest" title="Gestion des profils">
  <input type="hidden" [routerLink]="'/gestion/pro'" routerLinkActive #gpro="routerLinkActive"/>
  <div *ngIf="gpro.isActive">
    <app-management-profile></app-management-profile>
  </div>
</section>


<section class="gest" title="Gestion des services">
  <input type="hidden" [routerLink]="'/gestion/sce'" routerLinkActive #gsce="routerLinkActive"/>
  <div *ngIf="gsce.isActive">
    <app-management-department></app-management-department>
  </div>
</section>

<section class="gest" title="Gestion des applications">
  <input type="hidden" [routerLink]="'/gestion/app'" routerLinkActive #gapp="routerLinkActive"/>
  <section *ngIf="gapp.isActive">
    <app-management-application></app-management-application>
  </section>
</section>

<section class="gest" title="Gestion des certificats">
  <input type="hidden" [routerLink]="'/gestion/cer'" routerLinkActive #gcer="routerLinkActive"/>
  <section *ngIf="gcer.isActive">
    <div>
      <a role="button" title="Ajouter un certificat">Ajouter un certificat</a>
    </div>
    <div class="titre" title="Liste des certificats">
      <h1>Liste des Certificats</h1>
    </div>

    <div class="cadre">
      <table class="table1">
        <thead>
        <tr>
          <th class="th1">Nom Certificat</th>
          <th class="th2">Nom Application</th>
          <th class="th2"></th>
        </tr>
        </thead>

        <tbody *ngFor="let certificate of certificatesList | async"
               title="Certificat {{ certificate.environment.nameEnvironment }} de l'application {{ certificate.application.nameApplication }}">
        <tr>
          <td>{{ certificate.nameCertificate }}</td>
          <td>{{ certificate.application.nameApplication }}</td>
          <td>
            <a role="button"
               title="Modification du  certificat {{ certificate.environment.nameEnvironment }} de l'application {{ certificate.application.nameApplication }}">Modifier</a>
            <a role="button"
               title="Modification du  certificat {{ certificate.environment.nameEnvironment }} de l'application {{ certificate.application.nameApplication }}">Supprimer</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>

<section class="gest" title="Gestion des environnements">
  <input type="hidden" [routerLink]="'/gestion/env'" routerLinkActive #genv="routerLinkActive"/>
  <section *ngIf="genv.isActive">
    <div>
      <a role="button" title="Ajouter un environnement">Ajouter un environnement</a>
    </div>
    <div class="titre" title="Liste des environnements">
      <h1>Liste des Environnements</h1>
    </div>

    <div class="cadre">
      <table class="table">
        <thead>
        <tr>
          <th class="th2">Nom</th>
          <th></th>
        </tr>
        </thead>

        <tbody *ngFor="let environment of environmentsList | async"
               title="Environnement {{ environment.nameEnvironment }}">
        <tr>
          <td>{{ environment.nameEnvironment }}</td>
          <td>
            <a role="button" title="Modification de l'environnement {{ environment.nameEnvironment }}">Modifier</a>
            <a role="button" title="Suppression de l'environnement {{ environment.nameEnvironment }}">Supprimer</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>

<section class="gest" title="Gestion des plateformes">
  <input type="hidden" [routerLink]="'/gestion/pla'" routerLinkActive #gpla="routerLinkActive"/>
  <section *ngIf="gpla.isActive">
    <div>
      <a role="button" title="Ajouter une plateforme">Ajouter une plateforme</a>
    </div>
    <div class="titre" title="Liste des plateformes">
      <h1>Liste des Plateformes</h1>
    </div>

    <div class="cadre">
      <table class="table">
        <thead>
        <tr>
          <th class="th2">Nom</th>
          <th></th>
        </tr>
        </thead>

        <tbody *ngFor="let plateform of plateformsList | async" title="Plateforme {{ plateform.namePlateform }}">
        <tr>
          <td>{{ plateform.namePlateform }}</td>
          <td>
            <a role="button" title="Modification de la plateforme {{ plateform.namePlateform }}">Modifier</a>
            <a role="button" title="Suppression de la plateforme {{ plateform.namePlateform }}">Supprimer</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>

<section class="gest" title="Gestion des racines">
  <input type="hidden" [routerLink]="'/gestion/rac'" routerLinkActive #grac="routerLinkActive"/>
  <section *ngIf="grac.isActive">
    <div>
      <a role="button" title="Ajouter une racine">Ajouter une racine</a>
    </div>
    <div class="titre" title="Liste des racines">
      <h1>Liste des Racines</h1>
    </div>

    <div class="cadre">
      <table class="table">
        <thead>
        <tr>
          <th class="th2">Nom</th>
          <th></th>
        </tr>
        </thead>

        <tbody *ngFor="let root of rootsList | async" title="Racine {{ root.nameRoot }}">
        <tr>
          <td>{{ root.nameRoot }}</td>
          <td>
            <a role="button" title="Modification de la racine {{ root.nameRoot }}">Modifier</a>
            <a role="button" title="Suppression de la racine {{ root.nameRoot }}">Supprimer</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>

<section class="gest" title="Gestion des serveurs">
  <input type="hidden" [routerLink]="'/gestion/sur'" routerLinkActive #gsur="routerLinkActive"/>
  <section *ngIf="gsur.isActive">
    <div>
      <a role="button" title="Ajouter un serveur">Ajouter un serveur</a>
    </div>
    <div class="titre" title="Liste des serveurs">
      <h1>Liste des Serveurs</h1>
    </div>

    <div class="cadre">
      <table class="table">
        <thead>
        <tr>
          <th class="th2">Nom</th>
          <th></th>
        </tr>
        </thead>

        <tbody *ngFor="let server of serversList | async" title="Serveur {{ server.nameServer }}">
        <tr>
          <td>{{ server.nameServer }}</td>
          <td>
            <a role="button" title="Modification du serveur {{ server.nameServer }}">Modifier</a>
            <a role="button" title="Suppression du serveur {{ server.nameServer }}">Supprimer</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>
