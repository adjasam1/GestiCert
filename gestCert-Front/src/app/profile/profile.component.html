<section id="entete">
  <div id="user">
    <p *ngIf="editedUser.idUser">
      <mat-icon aria-hidden="false">person</mat-icon>
      {{ editedUser.nameUser }} {{ editedUser.firstNameUser }}
    </p>
  </div>
  <div id="deconnexion">
    <div>
      <a role="button" (click)="deconnexion()">Déconnexion</a>
    </div>
    <div>
      <a role="button" (click)="comeBack()">Retour</a>
    </div>
  </div>
</section>

<section id="formulaire">
  <h1 *ngIf="editedUser.idUser; else elseBlock1">Mon Profil</h1>
  <ng-template #elseBlock1><h1>Ajout d'un Utilisateur</h1></ng-template>
  <h2>* Champs obligatoires</h2>
  <form>
    <div>
      <div class="form-control">
        <label for="idRH">Identifiant RH * : </label>
        <input type="text" id="idRH" [(ngModel)]="editedUser.idRHUser" name="idRH" placeholder="Entrez l'identifiant RH"
               required>
      </div>
      <br>
      <div class="form-control">
        <label for="mdp">Mot de passe * : </label>
        <input type="text" id="mdp" [(ngModel)]="editedUser.passwordUser" name="mdp"
               placeholder="Entrez le mot de passe" required>
      </div>
      <br>
      <div class="form-control">
        <label for="userProfile">Profil * : </label>
        <!--   <input type="number" id="userProfile" [(ngModel)]="editedUser.profile.idProfile" name="userProfile"
                  placeholder="Entrez le profil" required>-->
        <select
          name="userProfile"
          id="userProfile"
          class="form-control"
          [(ngModel)]="editedUser.profile.idProfile">
          <option *ngFor="let profile of profilesList | async"
                  [value]="profile.idProfile">{{ profile.typeProfile }}</option>
        </select>
      </div>
      <br>
    </div>
    <div class="form-control">
      <label for="nom">Nom * : </label>
      <input type="text" id="nom" [(ngModel)]="editedUser.nameUser" name="nom" placeholder="Entrez le nom" required>
    </div>
    <br>
    <div class="form-control">
      <label for="prenom">Prénom * : </label>
      <input type="text" id="prenom" [(ngModel)]="editedUser.firstNameUser" name="prenom" placeholder="Entrez le prénom"
             required>
    </div>
    <br>
    <div class="form-control">
      <label for="userService">Service * : </label>
      <!--   <input type="number" id="service" [(ngModel)]="editedUser.department.idDepartment" name="service"
                placeholder="Entrez le prénom" required>-->
      <select
        name="userService"
        id="userService"
        class="form-control"
        [(ngModel)]="editedUser.department.idDepartment">
        <option *ngFor="let department of departmentsList | async"
                [value]="department.idDepartment">{{ department.nameDepartment }}</option>
      </select>
    </div>
    <br>
    <div class="form-control">
      <label for="fonction">Fonction * : </label>
      <input type="text" id="fonction" [(ngModel)]="editedUser.roleUser" name="fonction"
             placeholder="Entrez la fonction" required>
    </div>
    <br>
    <div class="form-control">
      <label for="tel">Téléphone : </label>
      <input type="text" id="tel" [(ngModel)]="editedUser.phoneUser" name="tel" placeholder="Entrez le téléphone">
    </div>
    <br>
    <div class="form-control">
      <label for="email">E-mail * : </label>
      <input type="text" id="email" [(ngModel)]="editedUser.eMailUser" name="email" placeholder="Entrez le mail">
    </div>
    <br>
    <!--   <div class="form-control">
         <label for="userApplication">Application(s) : </label>
         <input type="text" id="userApplication" [(ngModel)]="editedUser.eMailUser" name="userApplication" placeholder="Entrez le mail">
       </div>
       <br>-->
    <div class="form-control">
      <label for="applic">Application(s) :
      </label>
      <input id="plus" type="image" src="assets\icons\plus.png" (click)="addField()">
      <select
        name="applic"
        id="applic"
        class="form-control">
        <!-- [(ngModel)]="editedUser.applications[0].idApplication" -->
        <option *ngFor="let application of applicationsList | async"
                [value]="application.idApplication">{{ application.nameApplication }}</option>
      </select>
    </div>
  </form>
  <br>
  <div id="modification">
    <a role="button" (click)="onSave()">sauvegarder</a>
  </div>
</section>
